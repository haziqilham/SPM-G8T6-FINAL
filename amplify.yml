version: 1

backend:
  phases:
    preBuild:
      commands:
        # - export BASE_PATH=$(pwd)
        # - yum install -y gcc openssl-devel bzip2-devel libffi-devel python3.8-pip
        # - cd /opt && wget https://www.python.org/ftp/python/3.8.2/Python-3.8.2.tgz
        # - cd /opt && tar xzf Python-3.8.2.tgz 
        # - cd /opt/Python-3.8.2 && ./configure --enable-optimizations
        # - cd /opt/Python-3.8.2 && make altinstall
        # - pip3.8 install --user pipenv
        # - ln -fs /usr/local/bin/python3.8 /usr/bin/python3
        # - ln -fs /usr/local/bin/pip3.8 /usr/bin/pip3
        # - cd $BASE_PATH
  
    build:
      commands:
        # - npm install -g @aws-amplify/cli --unsafe-perm=true
        # - yarn add https://github.com/pallets/flask-sqlalchemy/
        # - yarn install -r requirements.txt 
        # - python app.py
     

frontend: 
  phases:
    # IMPORTANT - Please verify your build commands



    build:
      commands:
        # cd /templates
      # - npm install
      # - yarn install -r requirements.txt 
     
      
      # - npm install -g @aws-amplify/cli python3-flask-sqlalchemy
      # - yum install python-flask-sqlalchemy
      # - npm install -g @aws-amplify/cli --unsafe-perm=true
      # - pip install -r requirements.txt  
      # - cat requirements.txt | xargs npm install -g       
      # - flask run
    
      
  artifacts:
    # IMPORTANT - Please verify your build output directory
    baseDirectory: /templates 
    files:
      - '**/*'
      # - '/templates'
      # - 'requirements.txt'
  cache:
    paths: []
