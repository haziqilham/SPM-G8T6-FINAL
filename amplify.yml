version: 1

backend:
  phases:
  
    build:
      commands:
        - npm install -g @aws-amplify/cli --unsafe-perm=true
        - yarn add https://github.com/pallets/flask-sqlalchemy/
        - yarn install -r requirements.txt 
        - python app.py
     

frontend: 
  phases:
    # IMPORTANT - Please verify your build commands



    build:
      commands:
        cd /templates
      # - npm install
      # - yarn install -r requirements.txt 
     
      
      # - npm install -g @aws-amplify/cli python3-flask-sqlalchemy
      # - yum install python-flask-sqlalchemy
      # - npm install -g @aws-amplify/cli --unsafe-perm=true
      # - pip install -r requirements.txt  
      # - cat requirements.txt | xargs npm install -g       
      # - flask run
    
      
  artifacts:
    # IMPORTANT - Please verify your build output directory
    baseDirectory: /
    files:
      - '**/*'
      - '/templates'
      - 'requirements.txt'
  cache:
    paths: []
